!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("v-fetch",[],t):"object"==typeof exports?exports["v-fetch"]=t():e["v-fetch"]=t()}(self,(function(){return(()=>{"use strict";var e={85:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});const n={getEventType:(e,t)=>t.value&&"eventType"in t.value?t.value.eventType:"FORM"===e.nodeName?"submit":"click",getUrl:(e,t)=>t.value&&"url"in t.value?t.value.url:"FORM"===e.nodeName&&e.getAttribute("action")?e.getAttribute("action"):"A"===e.nodeName&&e.getAttribute("href")?e.getAttribute("href"):void 0,getHttpMethod:(e,t)=>"arg"in t&&~["get","post","put","patch","delete"].indexOf(t.arg)?t.arg:t.value&&"method"in t.value?t.value.method:e.getAttribute("method")?e.getAttribute("method"):"get",getUpdateModel:e=>e.value&&"updateModel"in e.value?e.value.updateModel:null,getSendModel:e=>e.value&&"sendModel"in e.value?e.value.sendModel:null,getBody(e,t){if(!e)return null;if(!t.hasOwnProperty("value")||!t.value.hasOwnProperty("sendAs")||"json"==t.value.sendAs)return JSON.stringify(e);let o=new FormData;for(var n in e)o.append(n,e[n]);return o},formDataToObject(e){let t={};for(var o of e.keys())t[o]=e.get(o);return t},getFetchOpts:(e,t)=>~["get","head"].indexOf(e)?{method:e}:{method:e,body:t},getJsonValue:(e,t,o)=>o.value&&"returnField"in o.value?o.value.returnField.split(".").reduce(((e,t)=>e[t]),t)||null:e in t?t[e]:null},r=function(e={}){return{bind(e,t,o){let r=n.getUpdateModel(t),l=n.getSendModel(t),u=n.getUrl(e,t),a=n.getHttpMethod(e,t),d=n.getEventType(e,t),i="";l?i=n.getBody(o.context[l],t):"FORM"===e.nodeName&&(i=n.getBody(n.formDataToObject(new FormData(e)),t)),function(){let v={updateModel:r,sendModel:l,url:u,method:a,eventType:d,body:i};e.addEventListener(d,(e=>{t.value&&"onStart"in t.value&&o.context[t.value.onStart](v),o.context.$emit("v-fetch:start",v),fetch(u,n.getFetchOpts(a,i)).then((e=>e.json())).then((function(e){r&&(o.context[r]=n.getJsonValue(r,e,t)),t.value&&"onComplete"in t.value&&o.context[t.value.onComplete](v),o.context.$emit("v-fetch:complete",v)})).catch((e=>{throw t.value&&"onError"in t.value&&o.context[t.value.onError](v),o.context.$emit("v-fetch:error",v),e}))}))}()}}},l={install(e,t={}){e.directive("fetch",r(t))},directive:r(),helpers:n},u=l;"undefined"!=typeof window&&window.Vue&&(window.Vue.use(l),window.VueFetch=l)}},t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}return o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(85)})()}));